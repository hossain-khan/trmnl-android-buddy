<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRMNL Android Buddy - APK Metrics Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        
        h1 {
            font-size: 2.5em;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
        }
        
        .chart-container {
            margin-bottom: 50px;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .chart-title {
            font-size: 1.5em;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .chart-wrapper {
            position: relative;
            height: 400px;
        }
        
        .chart-wrapper.tall {
            height: 500px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            color: #666;
        }
        
        .source-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #2196f3;
        }
        
        footer a {
            color: #667eea;
            text-decoration: none;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä TRMNL Android Buddy</h1>
            <p class="subtitle">APK Metrics Dashboard - Build History Analysis</p>
        </header>

        <div class="source-info">
            <strong>üìù Data Source:</strong> Diffuse reports from <code>docs/apk-diffs/*-slim.txt</code> 
            | <strong>Versions:</strong> <span id="version-range"></span>
            | <strong>Generated:</strong> February 15, 2026
        </div>

        <div class="stats-grid" id="summary-stats">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Total APK Size Over Time</h2>
            <div class="chart-wrapper">
                <canvas id="apkSizeChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">APK Size Breakdown by Component</h2>
            <div class="chart-wrapper tall">
                <canvas id="componentBreakdownChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Size Changes Between Versions</h2>
            <div class="chart-wrapper">
                <canvas id="sizeChangesChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">DEX Metrics Evolution</h2>
            <div class="chart-wrapper tall">
                <canvas id="dexMetricsChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Methods and Fields Count</h2>
            <div class="chart-wrapper">
                <canvas id="methodsFieldsChart"></canvas>
            </div>
        </div>

        <div class="chart-container">
            <h2 class="chart-title">Resource Entries Over Time</h2>
            <div class="chart-wrapper">
                <canvas id="resourcesChart"></canvas>
            </div>
        </div>

        <footer>
            <p>Generated using <a href="https://github.com/JakeWharton/diffuse" target="_blank">Diffuse</a> by Jake Wharton</p>
            <p>Regenerate: <code>python3 scripts/generate_apk_metrics_dashboard.py</code></p>
            <p>TRMNL Android Buddy ¬© 2025</p>
        </footer>
    </div>

    <script>
        // Data extracted from diffuse slim reports
        const diffuseData = [
            {
                        "version": "1.0.0",
                        "versionCode": 1,
                        "compressed": {
                                    "dex": 3.2,
                                    "arsc": 0.4580078125,
                                    "manifest": 0.00283203125,
                                    "res": 0.115234375,
                                    "native": 0.1779296875,
                                    "asset": 0.0474609375,
                                    "other": 0.044921875,
                                    "total": 4.1
                        },
                        "uncompressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45791015625,
                                    "manifest": 0.01181640625,
                                    "res": 0.1376953125,
                                    "native": 0.05751953125,
                                    "asset": 0.13310546875,
                                    "other": 0.10029296875,
                                    "total": 4.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 15958,
                                    "types": 5194,
                                    "classes": 4212,
                                    "methods": 21481,
                                    "fields": 13409
                        },
                        "arsc": {
                                    "configs": 108,
                                    "entries": 347
                        }
            },
            {
                        "version": "1.0.1",
                        "versionCode": 2,
                        "compressed": {
                                    "dex": 3.2,
                                    "arsc": 0.4580078125,
                                    "manifest": 0.00283203125,
                                    "res": 0.115234375,
                                    "native": 0.1779296875,
                                    "asset": 0.0474609375,
                                    "other": 0.044921875,
                                    "total": 4.1
                        },
                        "uncompressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45791015625,
                                    "manifest": 0.01181640625,
                                    "res": 0.1376953125,
                                    "native": 0.05751953125,
                                    "asset": 0.13310546875,
                                    "other": 0.10029296875,
                                    "total": 4.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 15958,
                                    "types": 5194,
                                    "classes": 4212,
                                    "methods": 21481,
                                    "fields": 13409
                        },
                        "arsc": {
                                    "configs": 108,
                                    "entries": 347
                        }
            },
            {
                        "version": "1.0.2",
                        "versionCode": 3,
                        "compressed": {
                                    "dex": 3.2,
                                    "arsc": 0.4580078125,
                                    "manifest": 0.00283203125,
                                    "res": 0.115234375,
                                    "native": 0.17734375,
                                    "asset": 0.0462890625,
                                    "other": 0.044921875,
                                    "total": 4.1
                        },
                        "uncompressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45791015625,
                                    "manifest": 0.01181640625,
                                    "res": 0.1376953125,
                                    "native": 0.05751953125,
                                    "asset": 0.13203125,
                                    "other": 0.10029296875,
                                    "total": 4.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 15969,
                                    "types": 5197,
                                    "classes": 4215,
                                    "methods": 21488,
                                    "fields": 13418
                        },
                        "arsc": {
                                    "configs": 108,
                                    "entries": 347
                        }
            },
            {
                        "version": "1.0.3",
                        "versionCode": 4,
                        "compressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45849609375,
                                    "manifest": 0.00283203125,
                                    "res": 0.1158203125,
                                    "native": 0.17685546875,
                                    "asset": 0.04736328125,
                                    "other": 0.044921875,
                                    "total": 4.0
                        },
                        "uncompressed": {
                                    "dex": 3.2,
                                    "arsc": 0.4583984375,
                                    "manifest": 0.01181640625,
                                    "res": 0.1384765625,
                                    "native": 0.05751953125,
                                    "asset": 0.13310546875,
                                    "other": 0.10029296875,
                                    "total": 4.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 15716,
                                    "types": 5079,
                                    "classes": 4102,
                                    "methods": 21109,
                                    "fields": 13055
                        },
                        "arsc": {
                                    "configs": 109,
                                    "entries": 352
                        }
            },
            {
                        "version": "1.0.4",
                        "versionCode": 5,
                        "compressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45849609375,
                                    "manifest": 0.00283203125,
                                    "res": 0.1158203125,
                                    "native": 0.1802734375,
                                    "asset": 0.04736328125,
                                    "other": 0.044921875,
                                    "total": 4.0
                        },
                        "uncompressed": {
                                    "dex": 3.2,
                                    "arsc": 0.4583984375,
                                    "manifest": 0.01181640625,
                                    "res": 0.1384765625,
                                    "native": 0.05751953125,
                                    "asset": 0.13310546875,
                                    "other": 0.10029296875,
                                    "total": 4.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 15755,
                                    "types": 5092,
                                    "classes": 4116,
                                    "methods": 21161,
                                    "fields": 13143
                        },
                        "arsc": {
                                    "configs": 109,
                                    "entries": 352
                        }
            },
            {
                        "version": "1.0.5",
                        "versionCode": 6,
                        "compressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45859375,
                                    "manifest": 0.00283203125,
                                    "res": 0.11630859375,
                                    "native": 0.20341796875,
                                    "asset": 0.0474609375,
                                    "other": 0.044921875,
                                    "total": 4.1
                        },
                        "uncompressed": {
                                    "dex": 3.2,
                                    "arsc": 0.45849609375,
                                    "manifest": 0.01181640625,
                                    "res": 0.1392578125,
                                    "native": 0.05751953125,
                                    "asset": 0.13310546875,
                                    "other": 0.10029296875,
                                    "total": 4.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 15826,
                                    "types": 5126,
                                    "classes": 4148,
                                    "methods": 21247,
                                    "fields": 13286
                        },
                        "arsc": {
                                    "configs": 109,
                                    "entries": 353
                        }
            },
            {
                        "version": "1.0.6",
                        "versionCode": 7,
                        "compressed": {
                                    "dex": 3.6,
                                    "arsc": 0.6458984375,
                                    "manifest": 0.00283203125,
                                    "res": 0.26787109375,
                                    "native": 0.19482421875,
                                    "asset": 0.04794921875,
                                    "other": 0.04990234375,
                                    "total": 4.8
                        },
                        "uncompressed": {
                                    "dex": 3.6,
                                    "arsc": 0.64580078125,
                                    "manifest": 0.01181640625,
                                    "res": 0.33759765625,
                                    "native": 0.05751953125,
                                    "asset": 0.13369140625,
                                    "other": 0.11005859375,
                                    "total": 4.9
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 17452,
                                    "types": 5648,
                                    "classes": 4573,
                                    "methods": 24092,
                                    "fields": 14932
                        },
                        "arsc": {
                                    "configs": 130,
                                    "entries": 1448
                        }
            },
            {
                        "version": "1.1.0",
                        "versionCode": 8,
                        "compressed": {
                                    "dex": 3.6,
                                    "arsc": 0.6458984375,
                                    "manifest": 0.00283203125,
                                    "res": 0.26787109375,
                                    "native": 0.19482421875,
                                    "asset": 0.04794921875,
                                    "other": 0.04990234375,
                                    "total": 4.8
                        },
                        "uncompressed": {
                                    "dex": 3.6,
                                    "arsc": 0.64580078125,
                                    "manifest": 0.01181640625,
                                    "res": 0.33759765625,
                                    "native": 0.05751953125,
                                    "asset": 0.13369140625,
                                    "other": 0.11005859375,
                                    "total": 4.9
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 17452,
                                    "types": 5648,
                                    "classes": 4573,
                                    "methods": 24092,
                                    "fields": 14932
                        },
                        "arsc": {
                                    "configs": 130,
                                    "entries": 1448
                        }
            },
            {
                        "version": "1.2.0",
                        "versionCode": 9,
                        "compressed": {
                                    "dex": 3.6,
                                    "arsc": 0.6462890625,
                                    "manifest": 0.00283203125,
                                    "res": 0.275390625,
                                    "native": 0.19443359375,
                                    "asset": 0.048046875,
                                    "other": 0.04990234375,
                                    "total": 4.8
                        },
                        "uncompressed": {
                                    "dex": 3.6,
                                    "arsc": 0.64619140625,
                                    "manifest": 0.01181640625,
                                    "res": 0.35849609375,
                                    "native": 0.05751953125,
                                    "asset": 0.13369140625,
                                    "other": 0.11005859375,
                                    "total": 4.9
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 17456,
                                    "types": 5650,
                                    "classes": 4575,
                                    "methods": 24095,
                                    "fields": 14938
                        },
                        "arsc": {
                                    "configs": 131,
                                    "entries": 1451
                        }
            },
            {
                        "version": "1.3.0",
                        "versionCode": 10,
                        "compressed": {
                                    "dex": 1.7,
                                    "arsc": 0.6482421875,
                                    "manifest": 0.00283203125,
                                    "res": 0.2765625,
                                    "native": 0.19619140625,
                                    "asset": 0.048046875,
                                    "other": 0.04990234375,
                                    "total": 3.0
                        },
                        "uncompressed": {
                                    "dex": 3.6,
                                    "arsc": 0.64814453125,
                                    "manifest": 0.01181640625,
                                    "res": 0.360546875,
                                    "native": 0.05751953125,
                                    "asset": 0.13369140625,
                                    "other": 0.11005859375,
                                    "total": 4.9
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 17642,
                                    "types": 5674,
                                    "classes": 4594,
                                    "methods": 24315,
                                    "fields": 14979
                        },
                        "arsc": {
                                    "configs": 132,
                                    "entries": 1453
                        }
            },
            {
                        "version": "1.4.0",
                        "versionCode": 11,
                        "compressed": {
                                    "dex": 1.7,
                                    "arsc": 0.6482421875,
                                    "manifest": 0.00283203125,
                                    "res": 0.2765625,
                                    "native": 0.2,
                                    "asset": 0.046875,
                                    "other": 0.04990234375,
                                    "total": 3.0
                        },
                        "uncompressed": {
                                    "dex": 3.6,
                                    "arsc": 0.64814453125,
                                    "manifest": 0.01181640625,
                                    "res": 0.360546875,
                                    "native": 0.05751953125,
                                    "asset": 0.13251953125,
                                    "other": 0.11005859375,
                                    "total": 4.9
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 17631,
                                    "types": 5670,
                                    "classes": 4592,
                                    "methods": 24304,
                                    "fields": 14970
                        },
                        "arsc": {
                                    "configs": 132,
                                    "entries": 1453
                        }
            },
            {
                        "version": "1.5.0",
                        "versionCode": 12,
                        "compressed": {
                                    "dex": 1.8,
                                    "arsc": 0.64873046875,
                                    "manifest": 0.00283203125,
                                    "res": 0.27919921875,
                                    "native": 0.19140625,
                                    "asset": 0.04814453125,
                                    "other": 0.04990234375,
                                    "total": 3.0
                        },
                        "uncompressed": {
                                    "dex": 3.7,
                                    "arsc": 0.6486328125,
                                    "manifest": 0.0119140625,
                                    "res": 0.36552734375,
                                    "native": 0.05751953125,
                                    "asset": 0.13388671875,
                                    "other": 0.11005859375,
                                    "total": 5.0
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 18076,
                                    "types": 5809,
                                    "classes": 4712,
                                    "methods": 24757,
                                    "fields": 15350
                        },
                        "arsc": {
                                    "configs": 132,
                                    "entries": 1457
                        }
            },
            {
                        "version": "1.6.0",
                        "versionCode": 13,
                        "compressed": {
                                    "dex": 1.8,
                                    "arsc": 0.64873046875,
                                    "manifest": 0.00283203125,
                                    "res": 0.27919921875,
                                    "native": 0.18017578125,
                                    "asset": 0.04814453125,
                                    "other": 0.04990234375,
                                    "total": 3.0
                        },
                        "uncompressed": {
                                    "dex": 3.7,
                                    "arsc": 0.6486328125,
                                    "manifest": 0.0119140625,
                                    "res": 0.36552734375,
                                    "native": 0.05751953125,
                                    "asset": 0.1337890625,
                                    "other": 0.11005859375,
                                    "total": 5.0
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 18101,
                                    "types": 5828,
                                    "classes": 4731,
                                    "methods": 24862,
                                    "fields": 15445
                        },
                        "arsc": {
                                    "configs": 132,
                                    "entries": 1457
                        }
            },
            {
                        "version": "1.7.0",
                        "versionCode": 14,
                        "compressed": {
                                    "dex": 1.8,
                                    "arsc": 0.64873046875,
                                    "manifest": 0.00283203125,
                                    "res": 0.27919921875,
                                    "native": 0.17578125,
                                    "asset": 0.04814453125,
                                    "other": 0.04990234375,
                                    "total": 3.0
                        },
                        "uncompressed": {
                                    "dex": 3.7,
                                    "arsc": 0.6486328125,
                                    "manifest": 0.0119140625,
                                    "res": 0.36552734375,
                                    "native": 0.05751953125,
                                    "asset": 0.1337890625,
                                    "other": 0.11005859375,
                                    "total": 5.0
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 18128,
                                    "types": 5835,
                                    "classes": 4738,
                                    "methods": 24890,
                                    "fields": 15457
                        },
                        "arsc": {
                                    "configs": 132,
                                    "entries": 1457
                        }
            },
            {
                        "version": "2.0.0",
                        "versionCode": 15,
                        "compressed": {
                                    "dex": 4.0,
                                    "arsc": 0.67060546875,
                                    "manifest": 0.00283203125,
                                    "res": 0.29248046875,
                                    "native": 0.1765625,
                                    "asset": 0.04833984375,
                                    "other": 0.05,
                                    "total": 5.2
                        },
                        "uncompressed": {
                                    "dex": 4.0,
                                    "arsc": 0.6705078125,
                                    "manifest": 0.0119140625,
                                    "res": 0.38779296875,
                                    "native": 0.05751953125,
                                    "asset": 0.133984375,
                                    "other": 0.11005859375,
                                    "total": 5.3
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 19025,
                                    "types": 6266,
                                    "classes": 5145,
                                    "methods": 26257,
                                    "fields": 16894
                        },
                        "arsc": {
                                    "configs": 131,
                                    "entries": 1497
                        }
            },
            {
                        "version": "2.1.0",
                        "versionCode": 16,
                        "compressed": {
                                    "dex": 4.2,
                                    "arsc": 0.876171875,
                                    "manifest": 0.0029296875,
                                    "res": 0.30888671875,
                                    "native": 0.18095703125,
                                    "asset": 0.048828125,
                                    "other": 0.0501953125,
                                    "total": 5.6
                        },
                        "uncompressed": {
                                    "dex": 4.2,
                                    "arsc": 0.87607421875,
                                    "manifest": 0.01220703125,
                                    "res": 0.4140625,
                                    "native": 0.05751953125,
                                    "asset": 0.13447265625,
                                    "other": 0.11005859375,
                                    "total": 5.8
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 20055,
                                    "types": 6545,
                                    "classes": 5345,
                                    "methods": 28046,
                                    "fields": 17647
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1549
                        }
            },
            {
                        "version": "2.2.0",
                        "versionCode": 17,
                        "compressed": {
                                    "dex": 4.2,
                                    "arsc": 0.876171875,
                                    "manifest": 0.0029296875,
                                    "res": 0.30888671875,
                                    "native": 0.2013671875,
                                    "asset": 0.0474609375,
                                    "other": 0.0501953125,
                                    "total": 5.7
                        },
                        "uncompressed": {
                                    "dex": 4.2,
                                    "arsc": 0.87607421875,
                                    "manifest": 0.01220703125,
                                    "res": 0.4140625,
                                    "native": 0.05751953125,
                                    "asset": 0.133203125,
                                    "other": 0.11005859375,
                                    "total": 5.8
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 20088,
                                    "types": 6550,
                                    "classes": 5350,
                                    "methods": 28064,
                                    "fields": 17672
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1549
                        }
            },
            {
                        "version": "2.2.1",
                        "versionCode": 18,
                        "compressed": {
                                    "dex": 4.2,
                                    "arsc": 0.876171875,
                                    "manifest": 0.0029296875,
                                    "res": 0.30888671875,
                                    "native": 0.19794921875,
                                    "asset": 0.04873046875,
                                    "other": 0.0501953125,
                                    "total": 5.7
                        },
                        "uncompressed": {
                                    "dex": 4.2,
                                    "arsc": 0.87607421875,
                                    "manifest": 0.01220703125,
                                    "res": 0.4140625,
                                    "native": 0.05751953125,
                                    "asset": 0.13447265625,
                                    "other": 0.11005859375,
                                    "total": 5.8
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 20089,
                                    "types": 6550,
                                    "classes": 5350,
                                    "methods": 28063,
                                    "fields": 17672
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1549
                        }
            },
            {
                        "version": "2.3.0",
                        "versionCode": 19,
                        "compressed": {
                                    "dex": 4.2,
                                    "arsc": 0.876171875,
                                    "manifest": 0.0029296875,
                                    "res": 0.30888671875,
                                    "native": 0.1806640625,
                                    "asset": 0.04755859375,
                                    "other": 0.0501953125,
                                    "total": 5.7
                        },
                        "uncompressed": {
                                    "dex": 4.2,
                                    "arsc": 0.87607421875,
                                    "manifest": 0.01220703125,
                                    "res": 0.4140625,
                                    "native": 0.05751953125,
                                    "asset": 0.133203125,
                                    "other": 0.11005859375,
                                    "total": 5.8
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 20117,
                                    "types": 6561,
                                    "classes": 5360,
                                    "methods": 28104,
                                    "fields": 17714
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1549
                        }
            },
            {
                        "version": "2.4.0",
                        "versionCode": 20,
                        "compressed": {
                                    "dex": 4.5,
                                    "arsc": 0.8794921875,
                                    "manifest": 0.0029296875,
                                    "res": 0.32744140625,
                                    "native": 0.1740234375,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.0
                        },
                        "uncompressed": {
                                    "dex": 4.5,
                                    "arsc": 0.87939453125,
                                    "manifest": 0.01220703125,
                                    "res": 0.4513671875,
                                    "native": 0.05751953125,
                                    "asset": 0.13466796875,
                                    "other": 0.11005859375,
                                    "total": 6.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21121,
                                    "types": 6932,
                                    "classes": 5713,
                                    "methods": 29495,
                                    "fields": 19023
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1574
                        }
            },
            {
                        "version": "2.5.0",
                        "versionCode": 21,
                        "compressed": {
                                    "dex": 4.5,
                                    "arsc": 0.8794921875,
                                    "manifest": 0.0029296875,
                                    "res": 0.32744140625,
                                    "native": 0.1962890625,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.0
                        },
                        "uncompressed": {
                                    "dex": 4.5,
                                    "arsc": 0.87939453125,
                                    "manifest": 0.01220703125,
                                    "res": 0.4513671875,
                                    "native": 0.05751953125,
                                    "asset": 0.134765625,
                                    "other": 0.11005859375,
                                    "total": 6.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21127,
                                    "types": 6935,
                                    "classes": 5716,
                                    "methods": 29506,
                                    "fields": 19034
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1574
                        }
            },
            {
                        "version": "2.6.0",
                        "versionCode": 22,
                        "compressed": {
                                    "dex": 4.5,
                                    "arsc": 0.8794921875,
                                    "manifest": 0.0029296875,
                                    "res": 0.32744140625,
                                    "native": 0.17421875,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.0
                        },
                        "uncompressed": {
                                    "dex": 4.5,
                                    "arsc": 0.87939453125,
                                    "manifest": 0.01220703125,
                                    "res": 0.4513671875,
                                    "native": 0.05751953125,
                                    "asset": 0.13466796875,
                                    "other": 0.11005859375,
                                    "total": 6.1
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21167,
                                    "types": 6942,
                                    "classes": 5722,
                                    "methods": 29532,
                                    "fields": 19073
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1574
                        }
            },
            {
                        "version": "2.7.0",
                        "versionCode": 23,
                        "compressed": {
                                    "dex": 4.5,
                                    "arsc": 0.87998046875,
                                    "manifest": 0.0029296875,
                                    "res": 0.3294921875,
                                    "native": 0.1794921875,
                                    "asset": 0.04775390625,
                                    "other": 0.0501953125,
                                    "total": 6.0
                        },
                        "uncompressed": {
                                    "dex": 4.5,
                                    "arsc": 0.8798828125,
                                    "manifest": 0.01220703125,
                                    "res": 0.45439453125,
                                    "native": 0.05751953125,
                                    "asset": 0.1333984375,
                                    "other": 0.11005859375,
                                    "total": 6.2
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21311,
                                    "types": 6979,
                                    "classes": 5752,
                                    "methods": 29704,
                                    "fields": 19211
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1578
                        }
            },
            {
                        "version": "2.7.1",
                        "versionCode": 24,
                        "compressed": {
                                    "dex": 4.5,
                                    "arsc": 0.87998046875,
                                    "manifest": 0.0029296875,
                                    "res": 0.3294921875,
                                    "native": 0.17841796875,
                                    "asset": 0.04775390625,
                                    "other": 0.0501953125,
                                    "total": 6.0
                        },
                        "uncompressed": {
                                    "dex": 4.5,
                                    "arsc": 0.8798828125,
                                    "manifest": 0.01220703125,
                                    "res": 0.45439453125,
                                    "native": 0.05751953125,
                                    "asset": 0.1333984375,
                                    "other": 0.11005859375,
                                    "total": 6.2
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21311,
                                    "types": 6979,
                                    "classes": 5752,
                                    "methods": 29704,
                                    "fields": 19211
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1578
                        }
            },
            {
                        "version": "2.7.2",
                        "versionCode": 25,
                        "compressed": {
                                    "dex": 4.5,
                                    "arsc": 0.87998046875,
                                    "manifest": 0.0029296875,
                                    "res": 0.3294921875,
                                    "native": 0.17744140625,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.0
                        },
                        "uncompressed": {
                                    "dex": 4.5,
                                    "arsc": 0.8798828125,
                                    "manifest": 0.01220703125,
                                    "res": 0.45439453125,
                                    "native": 0.05751953125,
                                    "asset": 0.134765625,
                                    "other": 0.11005859375,
                                    "total": 6.2
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21313,
                                    "types": 6979,
                                    "classes": 5752,
                                    "methods": 29701,
                                    "fields": 19211
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1578
                        }
            },
            {
                        "version": "2.8.0",
                        "versionCode": 26,
                        "compressed": {
                                    "dex": 4.6,
                                    "arsc": 0.8802734375,
                                    "manifest": 0.0029296875,
                                    "res": 0.33046875,
                                    "native": 0.19931640625,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.1
                        },
                        "uncompressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88017578125,
                                    "manifest": 0.01220703125,
                                    "res": 0.455859375,
                                    "native": 0.05751953125,
                                    "asset": 0.134765625,
                                    "other": 0.11005859375,
                                    "total": 6.2
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21400,
                                    "types": 6994,
                                    "classes": 5764,
                                    "methods": 29803,
                                    "fields": 19250
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1580
                        }
            },
            {
                        "version": "2.9.0",
                        "versionCode": 27,
                        "compressed": {
                                    "dex": 4.6,
                                    "arsc": 0.8802734375,
                                    "manifest": 0.0029296875,
                                    "res": 0.33046875,
                                    "native": 0.1923828125,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.1
                        },
                        "uncompressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88017578125,
                                    "manifest": 0.01220703125,
                                    "res": 0.455859375,
                                    "native": 0.05751953125,
                                    "asset": 0.13466796875,
                                    "other": 0.11005859375,
                                    "total": 6.2
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21418,
                                    "types": 6996,
                                    "classes": 5766,
                                    "methods": 29811,
                                    "fields": 19256
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1580
                        }
            },
            {
                        "version": "2.10.0",
                        "versionCode": 28,
                        "compressed": {
                                    "dex": 4.6,
                                    "arsc": 0.8802734375,
                                    "manifest": 0.0029296875,
                                    "res": 0.33046875,
                                    "native": 0.185546875,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.1
                        },
                        "uncompressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88017578125,
                                    "manifest": 0.01220703125,
                                    "res": 0.455859375,
                                    "native": 0.05751953125,
                                    "asset": 0.13466796875,
                                    "other": 0.11005859375,
                                    "total": 6.2
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21446,
                                    "types": 6998,
                                    "classes": 5768,
                                    "methods": 29813,
                                    "fields": 19265
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1580
                        }
            },
            {
                        "version": "2.11.0",
                        "versionCode": 29,
                        "compressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88115234375,
                                    "manifest": 0.0029296875,
                                    "res": 0.33369140625,
                                    "native": 0.17421875,
                                    "asset": 0.0490234375,
                                    "other": 0.0501953125,
                                    "total": 6.1
                        },
                        "uncompressed": {
                                    "dex": 4.6,
                                    "arsc": 0.8810546875,
                                    "manifest": 0.01220703125,
                                    "res": 0.46064453125,
                                    "native": 0.05751953125,
                                    "asset": 0.134765625,
                                    "other": 0.11005859375,
                                    "total": 6.3
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21636,
                                    "types": 7058,
                                    "classes": 5825,
                                    "methods": 30076,
                                    "fields": 19507
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1586
                        }
            },
            {
                        "version": "2.12.0",
                        "versionCode": 30,
                        "compressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88115234375,
                                    "manifest": 0.0029296875,
                                    "res": 0.33369140625,
                                    "native": 0.19765625,
                                    "asset": 0.04912109375,
                                    "other": 0.0501953125,
                                    "total": 6.1
                        },
                        "uncompressed": {
                                    "dex": 4.6,
                                    "arsc": 0.8810546875,
                                    "manifest": 0.01220703125,
                                    "res": 0.46064453125,
                                    "native": 0.05751953125,
                                    "asset": 0.134765625,
                                    "other": 0.11005859375,
                                    "total": 6.3
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21653,
                                    "types": 7062,
                                    "classes": 5829,
                                    "methods": 30093,
                                    "fields": 19513
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1586
                        }
            },
            {
                        "version": "2.13.0",
                        "versionCode": 31,
                        "compressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88134765625,
                                    "manifest": 0.0029296875,
                                    "res": 0.33642578125,
                                    "native": 0.196484375,
                                    "asset": 0.04912109375,
                                    "other": 0.0501953125,
                                    "total": 6.1
                        },
                        "uncompressed": {
                                    "dex": 4.6,
                                    "arsc": 0.88115234375,
                                    "manifest": 0.01220703125,
                                    "res": 0.4666015625,
                                    "native": 0.05751953125,
                                    "asset": 0.134765625,
                                    "other": 0.11005859375,
                                    "total": 6.3
                        },
                        "dex": {
                                    "files": 1,
                                    "strings": 21665,
                                    "types": 7061,
                                    "classes": 5828,
                                    "methods": 30094,
                                    "fields": 19509
                        },
                        "arsc": {
                                    "configs": 133,
                                    "entries": 1587
                        }
            }
];

        // Extract versions
        const versions = diffuseData.map(d => d.version);
        
        // Update version range
        if (versions.length > 0) {
            document.getElementById('version-range').textContent = 
                `${versions[0]} ‚Üí ${versions[versions.length - 1]} (${versions.length} releases)`;
        }

        // Calculate summary statistics
        const firstVersion = diffuseData[0];
        const lastVersion = diffuseData[diffuseData.length - 1];
        const totalSizeGrowth = (lastVersion.compressed.total - firstVersion.compressed.total) * 1024 * 1024;
        const methodsGrowth = lastVersion.dex.methods - firstVersion.dex.methods;
        const classesGrowth = lastVersion.dex.classes - firstVersion.dex.classes;

        // Format bytes to human readable
        function formatBytes(bytes) {
            if (bytes >= 1024 * 1024) return (bytes / (1024 * 1024)).toFixed(2) + ' MiB';
            if (bytes >= 1024) return (bytes / 1024).toFixed(2) + ' KiB';
            return bytes.toFixed(0) + ' B';
        }

        // Populate summary stats
        const summaryStats = document.getElementById('summary-stats');
        summaryStats.innerHTML = `
            <div class="stat-card">
                <div class="stat-label">Total Releases</div>
                <div class="stat-value">${diffuseData.length}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Current APK Size</div>
                <div class="stat-value">${lastVersion.compressed.total.toFixed(2)} MiB</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Size Growth</div>
                <div class="stat-value">${totalSizeGrowth > 0 ? '+' : ''}${formatBytes(totalSizeGrowth)}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Method Count</div>
                <div class="stat-value">${lastVersion.dex.methods.toLocaleString()}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Methods Added</div>
                <div class="stat-value">+${methodsGrowth.toLocaleString()}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Classes Added</div>
                <div class="stat-value">+${classesGrowth.toLocaleString()}</div>
            </div>
        `;

        // Chart.js default configuration
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif';
        Chart.defaults.color = '#666';

        // 1. Total APK Size Over Time
        new Chart(document.getElementById('apkSizeChart'), {
            type: 'line',
            data: {
                labels: versions,
                datasets: [{
                    label: 'Compressed APK Size',
                    data: diffuseData.map(d => d.compressed.total),
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.3,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true },
                    tooltip: {
                        callbacks: {
                            label: (context) => `${context.dataset.label}: ${context.parsed.y.toFixed(2)} MiB`
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        title: { display: true, text: 'Size (MiB)' }
                    },
                    x: {
                        title: { display: true, text: 'Version' }
                    }
                }
            }
        });

        // 2. APK Size Breakdown by Component (Stacked Area)
        new Chart(document.getElementById('componentBreakdownChart'), {
            type: 'line',
            data: {
                labels: versions,
                datasets: [
                    {
                        label: 'DEX',
                        data: diffuseData.map(d => d.compressed.dex || 0),
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.7)',
                        fill: true
                    },
                    {
                        label: 'Resources (ARSC)',
                        data: diffuseData.map(d => d.compressed.arsc || 0),
                        borderColor: '#764ba2',
                        backgroundColor: 'rgba(118, 75, 162, 0.7)',
                        fill: true
                    },
                    {
                        label: 'Res Files',
                        data: diffuseData.map(d => d.compressed.res || 0),
                        borderColor: '#f093fb',
                        backgroundColor: 'rgba(240, 147, 251, 0.7)',
                        fill: true
                    },
                    {
                        label: 'Native Libs',
                        data: diffuseData.map(d => d.compressed.native || 0),
                        borderColor: '#4facfe',
                        backgroundColor: 'rgba(79, 172, 254, 0.7)',
                        fill: true
                    },
                    {
                        label: 'Assets',
                        data: diffuseData.map(d => d.compressed.asset || 0),
                        borderColor: '#43e97b',
                        backgroundColor: 'rgba(67, 233, 123, 0.7)',
                        fill: true
                    },
                    {
                        label: 'Other',
                        data: diffuseData.map(d => d.compressed.other || 0),
                        borderColor: '#fa709a',
                        backgroundColor: 'rgba(250, 112, 154, 0.7)',
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true, position: 'bottom' },
                    tooltip: {
                        mode: 'index',
                        callbacks: {
                            label: (context) => `${context.dataset.label}: ${context.parsed.y.toFixed(2)} MiB`
                        }
                    }
                },
                scales: {
                    y: {
                        stacked: true,
                        title: { display: true, text: 'Size (MiB)' }
                    },
                    x: {
                        stacked: true,
                        title: { display: true, text: 'Version' }
                    }
                }
            }
        });

        // 3. Size Changes Between Versions
        const sizeChanges = diffuseData.slice(1).map((d, i) => 
            (d.compressed.total - diffuseData[i].compressed.total) * 1024
        );
        const versionTransitions = diffuseData.slice(1).map((d, i) => 
            `${diffuseData[i].version} ‚Üí ${d.version}`
        );

        new Chart(document.getElementById('sizeChangesChart'), {
            type: 'bar',
            data: {
                labels: versionTransitions,
                datasets: [{
                    label: 'Size Change',
                    data: sizeChanges,
                    backgroundColor: sizeChanges.map(v => v >= 0 ? 'rgba(244, 67, 54, 0.7)' : 'rgba(76, 175, 80, 0.7)'),
                    borderColor: sizeChanges.map(v => v >= 0 ? '#f44336' : '#4caf50'),
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: (context) => {
                                const val = context.parsed.y;
                                return `${val >= 0 ? '+' : ''}${val.toFixed(2)} KiB`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        title: { display: true, text: 'Size Change (KiB)' },
                        grid: { color: (context) => context.tick.value === 0 ? '#333' : 'rgba(0, 0, 0, 0.1)' }
                    },
                    x: {
                        title: { display: true, text: 'Version Transition' },
                        ticks: { maxRotation: 90, minRotation: 45 }
                    }
                }
            }
        });

        // 4. DEX Metrics Evolution
        new Chart(document.getElementById('dexMetricsChart'), {
            type: 'line',
            data: {
                labels: versions,
                datasets: [
                    {
                        label: 'Strings',
                        data: diffuseData.map(d => d.dex.strings || 0),
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Types',
                        data: diffuseData.map(d => d.dex.types || 0),
                        borderColor: '#764ba2',
                        backgroundColor: 'rgba(118, 75, 162, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Classes',
                        data: diffuseData.map(d => d.dex.classes || 0),
                        borderColor: '#f093fb',
                        backgroundColor: 'rgba(240, 147, 251, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        yAxisID: 'y'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: { display: true, text: 'Count' }
                    },
                    x: {
                        title: { display: true, text: 'Version' }
                    }
                }
            }
        });

        // 5. Methods and Fields Count
        new Chart(document.getElementById('methodsFieldsChart'), {
            type: 'line',
            data: {
                labels: versions,
                datasets: [
                    {
                        label: 'Methods',
                        data: diffuseData.map(d => d.dex.methods || 0),
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.3,
                        pointRadius: 4
                    },
                    {
                        label: 'Fields',
                        data: diffuseData.map(d => d.dex.fields || 0),
                        borderColor: '#43e97b',
                        backgroundColor: 'rgba(67, 233, 123, 0.2)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.3,
                        pointRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true, position: 'top' },
                    tooltip: {
                        callbacks: {
                            label: (context) => `${context.dataset.label}: ${context.parsed.y.toLocaleString()}`
                        }
                    }
                },
                scales: {
                    y: {
                        title: { display: true, text: 'Count' }
                    },
                    x: {
                        title: { display: true, text: 'Version' }
                    }
                }
            }
        });

        // 6. Resource Entries Over Time
        new Chart(document.getElementById('resourcesChart'), {
            type: 'bar',
            data: {
                labels: versions,
                datasets: [{
                    label: 'ARSC Entries',
                    data: diffuseData.map(d => d.arsc.entries || 0),
                    backgroundColor: 'rgba(102, 126, 234, 0.7)',
                    borderColor: '#667eea',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Number of Entries' }
                    },
                    x: {
                        title: { display: true, text: 'Version' }
                    }
                }
            }
        });
    </script>
</body>
</html>